import { __decorate } from "tslib";
import { Component, Input, EventEmitter, OnInit, HostBinding, HostListener, ViewChild, ViewChildren, ElementRef, ChangeDetectorRef, ContentChildren, QueryList } from '@angular/core';
import { EventService } from './event.service';
import { LightboxCommonComponent } from './lightbox-common.component';
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from './event.service';
import * as ɵngcc2 from '@angular/common';

const _c0 = ["prevImageElem"];
const _c1 = ["lightboxContainer"];
function LightboxComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 11);
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate(ctx_r0.counter);
} }
function LightboxComponent_div_1_Template(rf, ctx) { if (rf & 1) {
    const _r8 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "div", 12);
    ɵngcc0.ɵɵlistener("click", function LightboxComponent_div_1_Template_div_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r8); const ctx_r7 = ɵngcc0.ɵɵnextContext(); return ctx_r7.closeLightbox(); });
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r1 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate(ctx_r1.closeButtonText);
} }
function LightboxComponent_div_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "div", 13);
} }
function LightboxComponent_div_5_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 14);
    ɵngcc0.ɵɵelement(1, "div", 13);
    ɵngcc0.ɵɵelementEnd();
} }
function LightboxComponent_div_6_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 15);
    ɵngcc0.ɵɵtext(1, "Failed to load image");
    ɵngcc0.ɵɵelementEnd();
} }
let LightboxComponent = class LightboxComponent extends LightboxCommonComponent {
    constructor(elementRef, ref, eventService) {
        super(eventService);
        this.elementRef = elementRef;
        this.ref = ref;
        this.eventService = eventService;
        this.spinnerHeight = 30;
        this.minTimeout = 30;
        this.preloaderTimeout = 100;
        this.spinnerStyles = {
            transform: ''
        };
        this.configThumbnailPreloader = true;
        this.events = new EventEmitter();
        this.hostShown = false;
        this.hideControls = false;
    }
    get simpleMode() {
        return this.properties.simpleMode;
    }
    get hostLightTheme() {
        return this.properties.backgroundColor === 'white';
    }
    get currImagePath() {
        let image = this.images[this.index];
        let path;
        if (!image) {
            return false;
        }
        if (image.fullImage && image.fullImage.path) {
            path = image.fullImage.path;
        }
        else if (image.thumbnailImage && image.thumbnailImage.path) {
            path = image.thumbnailImage.path;
        }
        else if (image.path) {
            path = image.path;
        }
        return path;
    }
    get prevImagePath() {
        return this.images[this.prevIndex];
    }
    set prevImagePath(value) {
        this.images[this.prevIndex] = value;
    }
    get isHiddenPrevArrow() {
        return this.isFirstImage && !this.properties.loop || this.isZoomIn;
    }
    get isHiddenNextArrow() {
        return this.isLastImage && !this.properties.loop || this.isZoomIn;
    }
    get isPreloader() {
        return this.animationMode === 'zoom-preloader' &&
            this.showState != 'animation-end' &&
            this.currImageLoadingState === 'loading';
    }
    get imageOrientation() {
        if (this.thumbnailImage.naturalWidth > this.thumbnailImage.naturalHeight) {
            return 'horizontal';
        }
        else {
            return 'vertical';
        }
    }
    scrolling() {
        if (this.showState === 'initial-thumbnail-image' ||
            this.showState === 'initial-virtual-image' ||
            this.closingState === 'animation') {
            this.updateThumbnailPosition();
        }
    }
    onKeyDown(event) {
        switch (event.key) {
            case 'ArrowLeft':
                this.prev();
                break;
            case 'ArrowRight':
                this.next();
                break;
            case 'Escape':
                this.closeLightbox();
                break;
        }
    }
    onMouseEnter(event) {
        this.hideControls = false;
    }
    transitionEnd(event) {
        if (event.propertyName === "transform" && this.hostAnimation) {
            this.hostAnimation = false;
        }
    }
    ngOnInit() {
        this.currentImageIndex = this.properties.index;
        this.initialLightbox();
    }
    ngAfterViewInit() {
        setTimeout(() => {
            if (this.currImageLoadingState === 'not-loaded') {
                this.currImageLoadingState = 'loading';
            }
        }, this.preloaderTimeout);
        // Mode: default
        if (this.animationMode === 'default') {
            setTimeout(() => {
                this.showLightboxAnimation();
            }, this.minTimeout);
        }
    }
    onImageLoaded() {
        // When opening lightbox
        if (this.animationMode === 'zoom-preloader' &&
            this.showState === 'initial-thumbnail-image') {
            this.initialLightboxVirtualImage();
            setTimeout(() => {
                this.currImageLoadingState = 'uploaded';
                this.showLightboxAnimation();
                if (this.properties.hideThumbnail) {
                    this.hideThumbnailImage();
                }
            }, this.minTimeout);
        }
        // When opening next / previous image
        if (this.showState === 'animation-end') {
            this.currImageLoadingState = 'uploaded';
            if (this.properties.hideThumbnail) {
                this.hideThumbnailImage();
            }
        }
        this.ref.detectChanges();
    }
    onImageError(event) {
        this.currImageLoadingState = 'error';
        this.initialLightboxDefault();
        setTimeout(() => {
            this.showLightboxAnimation();
        }, this.minTimeout);
    }
    onContainerClick(event) {
        if (event.target === this.lightboxContainerElem.nativeElement || this.simpleMode) {
            this.closeLightbox();
        }
    }
    initialLightbox() {
        this.setMaxDimensions();
        this.setAnimationDuration();
        switch (this.animationMode) {
            case 'zoom-preloader':
                this.initialLightboxThumbnailImage();
                break;
            case 'default':
                this.initialLightboxDefault();
                break;
        }
    }
    initialLightboxDefault() {
        this.showState = 'initial-default';
        this.containerStyles = {
            transform: 'translate3d(0, 0, 0)',
            height: '100%',
            width: '100%',
            opacity: '0'
        };
        // next step: AfterViewInit
    }
    initialLightboxVirtualImage() {
        this.setShowState('initial-virtual-image');
        this.containerStyles = {
            transform: this.containerInitialPosition,
            height: this.virtualImageDimension.height + 'px',
            width: this.virtualImageDimension.width + 'px'
        };
        // next step: onImageLoaded() -> showLightboxAnimation()
    }
    initialLightboxThumbnailImage() {
        this.setShowState('initial-thumbnail-image');
        this.containerStyles = {
            transform: this.containerInitialPosition,
            height: this.thumbnailImagePosition.height + 'px',
            width: this.thumbnailImagePosition.width + 'px'
        };
        // next step: onImageLoaded()
    }
    showLightboxAnimation() {
        this.hostAnimation = true;
        this.setShowState('animation');
        this.hostShown = true;
        this.setBackgroundColor();
        this.setAnimationDuration();
        // Mode: zoom preloader
        if (this.animationMode === 'zoom-preloader' &&
            this.currImageLoadingState !== 'error') {
            this.containerStyles.transform = this.containerFullscreenPosition;
        }
        // Mode: default
        if (this.animationMode === 'default') {
            this.containerStyles.opacity = '1';
        }
        // next step: handleLightboxTransitionEnd
    }
    showLightboxAnimationEnd() {
        this.setShowState('animation-end');
        this.containerStyles = {
            transform: 'translate3d(0, 0, 0)',
            height: '100%',
            width: '100%',
        };
    }
    closeLightbox() {
        this.setClosingState('initial');
        this.hostShown = false;
        this.closeLightboxInitial();
    }
    closeLightboxInitial() {
        this.setClosingState('initial-styles');
        // Mode: zoom preloader
        if (this.animationMode === 'zoom-preloader') {
            this.containerStyles = {
                transform: this.containerFullscreenPosition,
                height: this.virtualImageDimension.height + 'px',
                width: this.virtualImageDimension.width + 'px',
            };
        }
        // Mode: default
        if (this.animationMode === 'default') {
            this.containerStyles.opacity = '1';
        }
        setTimeout(() => {
            this.closeLightboxAnimation();
        }, this.minTimeout);
    }
    closeLightboxAnimation() {
        this.setClosingState('animation');
        // Mode: zoom preloader
        if (this.animationMode === 'zoom-preloader') {
            this.hostAnimation = true;
            this.containerStyles = {
                transform: this.containerInitialPosition,
                height: this.getContainerHeight(),
                width: this.getContainerWidth(),
            };
            this.hostStyleBackgroundColor = '';
        }
        // Mode: default
        if (this.animationMode === 'default') {
            this.hostAnimation = true;
            this.containerStyles.opacity = '0';
            this.hostStyleBackgroundColor = '';
        }
        this.setAnimationDuration();
        // next step: handleLightboxTransitionEnd
        if (this.animationDuration === 0) { // in the future, change to a type conversion getter
            this.closeLightboxAnimationEnd();
        }
    }
    closeLightboxAnimationEnd() {
        this.setClosingState('animation-end');
        this.events.emit({ type: 'close' });
        // Mode: zoom preloader
        if (this.animationMode === 'zoom-preloader') {
            this.showThumbnailImage();
        }
    }
    /*
     * Transition End
     */
    handleLightboxTransitionEnd(event) {
        if (this.showState === 'animation') {
            this.showLightboxAnimationEnd();
        }
        // Last close step
        if (this.closingState === 'animation') {
            this.closeLightboxAnimationEnd();
        }
    }
    next() {
        if (this.animationMode === 'zoom-preloader') {
            this.showThumbnailImage();
        }
        if (this.isLastImage) {
            if (this.properties.loop) {
                this.currentImageIndex = 0;
            }
            else {
                return;
            }
        }
        else {
            this.currentImageIndex++;
            this.currImageLoadingState = 'loading';
        }
        setTimeout(() => {
            if (this.currImageLoadingState !== 'uploaded') {
                this.currImageLoadingState = 'loading';
            }
        }, this.preloaderTimeout);
    }
    prev() {
        if (this.animationMode === 'zoom-preloader') {
            this.showThumbnailImage();
        }
        if (this.isFirstImage) {
            if (this.properties.loop) {
                this.currentImageIndex = this.latestImageIndex;
            }
            else {
                return;
            }
        }
        else {
            this.currentImageIndex--;
            this.currImageLoadingState = 'loading';
        }
        setTimeout(() => {
            if (this.currImageLoadingState !== 'uploaded') {
                this.currImageLoadingState = 'loading';
            }
        }, this.preloaderTimeout);
    }
    setMaxDimensions() {
        this.lightboxImage.nativeElement.style.maxHeight = 'calc(' + this.properties.imageMaxHeight + ')';
        this.lightboxImage.nativeElement.style.maxWidth = this.properties.imageMaxWidth;
    }
    handlePinchZoomEvents(event) {
        if (event.type === "zoom-in") {
            this.isZoomIn = true;
        }
        if (event.type === "zoom-out") {
            this.isZoomIn = false;
        }
    }
    getContainerWidth() {
        return this.thumbnailImagePosition.width / this.containerScale + 'px';
    }
};
LightboxComponent.ɵfac = function LightboxComponent_Factory(t) { return new (t || LightboxComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.EventService)); };
LightboxComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: LightboxComponent, selectors: [["crystal-lightbox"]], viewQuery: function LightboxComponent_Query(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵviewQuery(_c0, 3);
        ɵngcc0.ɵɵviewQuery(_c1, 3);
    } if (rf & 2) {
        let _t;
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.prevImageElem = _t.first);
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.lightboxContainerElem = _t.first);
    } }, hostVars: 12, hostBindings: function LightboxComponent_HostBindings(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵlistener("scroll", function LightboxComponent_scroll_HostBindingHandler() { return ctx.scrolling(); }, false, ɵngcc0.ɵɵresolveWindow)("keydown", function LightboxComponent_keydown_HostBindingHandler($event) { return ctx.onKeyDown($event); }, false, ɵngcc0.ɵɵresolveWindow)("mouseenter", function LightboxComponent_mouseenter_HostBindingHandler($event) { return ctx.onMouseEnter($event); })("transitionend", function LightboxComponent_transitionend_HostBindingHandler($event) { return ctx.transitionEnd($event); });
    } if (rf & 2) {
        ɵngcc0.ɵɵstyleProp("background-color", ctx.hostStyleBackgroundColor);
        ɵngcc0.ɵɵclassProp("lightbox-shown", ctx.hostShown)("lightbox-hide-controls", ctx.hideControls)("lightbox-simple-mode", ctx.simpleMode)("lightbox-light", ctx.hostLightTheme)("lightbox-animation", ctx.hostAnimation);
    } }, features: [ɵngcc0.ɵɵInheritDefinitionFeature], decls: 11, vars: 11, consts: [["class", "lightbox-counter", 4, "ngIf"], ["class", "lightbox-close", 3, "click", 4, "ngIf"], ["class", "lightbox-spinner", 4, "ngIf"], [1, "lightbox-container", 3, "ngStyle", "transitionend", "click"], ["lightboxContainer", ""], ["class", "lightbox-preloader", 4, "ngIf"], ["class", "lightbox-error", 4, "ngIf"], [1, "lightbox-curr-image", 3, "src", "load", "error"], ["lightboxImage", ""], [1, "lightbox-prev", 3, "hidden", "click"], [1, "lightbox-next", 3, "hidden", "click"], [1, "lightbox-counter"], [1, "lightbox-close", 3, "click"], [1, "lightbox-spinner"], [1, "lightbox-preloader"], [1, "lightbox-error"]], template: function LightboxComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵtemplate(0, LightboxComponent_div_0_Template, 2, 1, "div", 0);
        ɵngcc0.ɵɵtemplate(1, LightboxComponent_div_1_Template, 2, 1, "div", 1);
        ɵngcc0.ɵɵtemplate(2, LightboxComponent_div_2_Template, 1, 0, "div", 2);
        ɵngcc0.ɵɵelementStart(3, "div", 3, 4);
        ɵngcc0.ɵɵlistener("transitionend", function LightboxComponent_Template_div_transitionend_3_listener($event) { return ctx.handleLightboxTransitionEnd($event); })("click", function LightboxComponent_Template_div_click_3_listener($event) { return ctx.onContainerClick($event); });
        ɵngcc0.ɵɵtemplate(5, LightboxComponent_div_5_Template, 2, 0, "div", 5);
        ɵngcc0.ɵɵtemplate(6, LightboxComponent_div_6_Template, 2, 0, "div", 6);
        ɵngcc0.ɵɵelementStart(7, "img", 7, 8);
        ɵngcc0.ɵɵlistener("load", function LightboxComponent_Template_img_load_7_listener() { return ctx.onImageLoaded(); })("error", function LightboxComponent_Template_img_error_7_listener($event) { return ctx.onImageError($event); });
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(9, "div", 9);
        ɵngcc0.ɵɵlistener("click", function LightboxComponent_Template_div_click_9_listener() { return ctx.prev(); });
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(10, "div", 10);
        ɵngcc0.ɵɵlistener("click", function LightboxComponent_Template_div_click_10_listener() { return ctx.next(); });
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵproperty("ngIf", ctx.properties.counter && ctx.images.length > 1);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", !ctx.simpleMode);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.currImageLoadingState === "loading" && ctx.showState === "animation-end");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngStyle", ctx.containerStyles);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngIf", ctx.isPreloader);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.currImageLoadingState === "error" && !ctx.closingState);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵclassProp("lightbox-show", ctx.currImageLoadingState === "uploaded");
        ɵngcc0.ɵɵproperty("src", ctx.currImagePath, ɵngcc0.ɵɵsanitizeUrl);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("hidden", ctx.isHiddenPrevArrow);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("hidden", ctx.isHiddenNextArrow);
    } }, directives: [ɵngcc2.NgIf, ɵngcc2.NgStyle], styles: [".lightbox-spinner[_ngcontent-%COMP%], .lightbox-spinner[_ngcontent-%COMP%]:after, .lightbox-spinner[_ngcontent-%COMP%]:before{border-radius:50%;width:10px;height:10px;-webkit-animation:1.5s ease-in-out infinite lightbox-load;animation:1.5s ease-in-out infinite lightbox-load}.lightbox-spinner[_ngcontent-%COMP%]{color:#fff;font-size:10px;margin:0 auto 20px;position:relative;text-indent:-9999em;transform:translateZ(0);-webkit-animation-delay:-.16s;animation-delay:-.16s}.lightbox-spinner[_ngcontent-%COMP%]:after, .lightbox-spinner[_ngcontent-%COMP%]:before{content:\"\";position:absolute;top:0}.lightbox-spinner[_ngcontent-%COMP%]:before{left:-32px;-webkit-animation-delay:-.32s;animation-delay:-.32s}.lightbox-spinner[_ngcontent-%COMP%]:after{left:32px}@-webkit-keyframes lightbox-load{0%,100%,80%{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}@keyframes lightbox-load{0%,100%,80%{box-shadow:0 10px 0 -1.3em}40%{box-shadow:0 10px 0 0}}.lightbox-shown[_nghost-%COMP%]{opacity:1}.lightbox-shown[_nghost-%COMP%]   .lightbox-close[_ngcontent-%COMP%], .lightbox-shown[_nghost-%COMP%]   .lightbox-next[_ngcontent-%COMP%], .lightbox-shown[_nghost-%COMP%]   .lightbox-prev[_ngcontent-%COMP%]{opacity:.5;transition-delay:.1s}.lightbox-shown[_nghost-%COMP%]   .lightbox-close[_ngcontent-%COMP%]:hover, .lightbox-shown[_nghost-%COMP%]   .lightbox-next[_ngcontent-%COMP%]:hover, .lightbox-shown[_nghost-%COMP%]   .lightbox-prev[_ngcontent-%COMP%]:hover{opacity:1;transition-delay:0}.lightbox-shown[_nghost-%COMP%]   .lightbox-counter[_ngcontent-%COMP%]{opacity:1}.lightbox-hide-controls[_nghost-%COMP%]   .lightbox-close[_ngcontent-%COMP%], .lightbox-hide-controls[_nghost-%COMP%]   .lightbox-next[_ngcontent-%COMP%], .lightbox-hide-controls[_nghost-%COMP%]   .lightbox-prev[_ngcontent-%COMP%]{opacity:0}.lightbox-simple-mode[_nghost-%COMP%]   .lightbox-container[_ngcontent-%COMP%]{cursor:zoom-out}[_nghost-%COMP%]:not(.lightbox-animation)   .lightbox-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;top:0;left:0;height:100%}.lightbox-light[_nghost-%COMP%]{color:#000;text-shadow:none}[_nghost-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;color:#fff;text-shadow:0 0 1px rgba(0,0,0,.65);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10000}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{opacity:1;max-width:100%;max-height:100%}[_nghost-%COMP%]   img.lightbox-curr-image.lightbox-show[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   img.lightbox-curr-image[_ngcontent-%COMP%]{opacity:0;z-index:10}[_nghost-%COMP%]   .lightbox-container.lightbox-hide[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .lightbox-container[_ngcontent-%COMP%]{position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transform-origin:top left}[_nghost-%COMP%]   .lightbox-preloader[_ngcontent-%COMP%]{background:rgba(0,0,0,.4);display:flex;align-items:center;justify-content:center;width:100%;height:100%;position:absolute}[_nghost-%COMP%]   .lightbox-spinner[_ngcontent-%COMP%]{position:absolute;top:51%;left:50%;margin-top:-15px;margin-left:-5px}[_nghost-%COMP%]   .lightbox-preloader[_ngcontent-%COMP%]   .lightbox-spinner[_ngcontent-%COMP%]{margin-top:-9px;margin-left:-3px}[_nghost-%COMP%]   .lightbox-preloader[_ngcontent-%COMP%]   .lightbox-spinner[_ngcontent-%COMP%], [_nghost-%COMP%]   .lightbox-preloader[_ngcontent-%COMP%]   .lightbox-spinner[_ngcontent-%COMP%]:after, [_nghost-%COMP%]   .lightbox-preloader[_ngcontent-%COMP%]   .lightbox-spinner[_ngcontent-%COMP%]:before{width:6px;height:6px}[_nghost-%COMP%]   .lightbox-preloader[_ngcontent-%COMP%]   .lightbox-spinner[_ngcontent-%COMP%]:before{left:-21px}[_nghost-%COMP%]   .lightbox-preloader[_ngcontent-%COMP%]   .lightbox-spinner[_ngcontent-%COMP%]:after{left:21px}[_nghost-%COMP%]   .lightbox-counter[_ngcontent-%COMP%]{text-align:left;position:absolute;left:22px;top:13px;font-size:14px;z-index:30}[_nghost-%COMP%]   .lightbox-description[_ngcontent-%COMP%]{text-align:center;max-width:calc(100% - 200px);margin:0 auto;font-size:14px;line-height:43px;position:relative;z-index:50}[_nghost-%COMP%]   .lightbox-error[_ngcontent-%COMP%]{color:rgba(255,255,255,.75);font-size:19px}[_nghost-%COMP%]   .lightbox-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:13px 22px;font-size:13px;text-transform:uppercase;cursor:pointer;opacity:.5;z-index:30;transition:opacity .1s ease-in-out}[_nghost-%COMP%]   .lightbox-next[_ngcontent-%COMP%], [_nghost-%COMP%]   .lightbox-prev[_ngcontent-%COMP%]{width:100px;height:100%;position:absolute;top:0;cursor:pointer;opacity:.5;z-index:20;transition:opacity .1s ease-in-out;-webkit-tap-highlight-color:rgba(255,255,255,0)}[_nghost-%COMP%]   .lightbox-prev[_ngcontent-%COMP%]{left:0;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAiCAYAAABbXymAAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjMzMTZCQzFERDgzMTExRTc5QUYxQTUxRDI5MkM5ODZCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjMzMTZCQzFFRDgzMTExRTc5QUYxQTUxRDI5MkM5ODZCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzMxNkJDMUJEODMxMTFFNzlBRjFBNTFEMjkyQzk4NkIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MzMxNkJDMUNEODMxMTFFNzlBRjFBNTFEMjkyQzk4NkIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7VrwZKAAAClElEQVR42qzWSY8SQRgGYLoVHPeTXlwCiIwMArJGtiABNep4IGZi4oEfMJooLjePrnFGf5yJS0hYmq2b/aBxiQ6+lRRJdaUZq5vp5E2TLnioVFd9VZLN+iUxIdeMiW2fRVCmvz2DpJBVCk6X6SVBHQRLpVKb7Xb782g0Usrl8jM8W0P20+9YQn3JZPIhwN6MXoPBoI3nG8iKGZhF14A+AqrOmKtWq31F213kkOgQ69B0Ol0BqrFot9vV/H7/c7RfEoVZ1G+EdjqdvtfrfYn2K8gJkaHQodlstjIej/ssihdH0Ddov4acQo7QlycJo5PJhEc1j8fzmqJk2h1D7Lv1lkUv5nK5xzzaarWMUIcwms/nCTrgUbfbTdCrVtAAQafTqQ5VFEVdCi0UCk/Q0yGLNptN1el0vqLoaRHUxqPoKY/2KFo0g0r0ba4Wi8WnQEcs2mg0VAPULrJsZTqpNzDZ6yxar9dVl8tFVtR10SnFohJdgnZYuh9IkjSTZfknPn5DviO/kL/IjkgtIOhhJJ7JZF5gdU24hdDG6qqg/QJywEzlmg/FSTLhE4nE9nA4nHJFRvH5fJto94gOBfvyjtJxXI/H4x+A63re6/UUVDCCnzeDz6fbceQscjsWi703wFsM7hDBJQN8PRqNbmNn0OGapu0JfoviYx4PBAL30e5dCg+Hw0Z4e8/wfr/P451QKPRgaRzIFjDdksefsbjdKn5zER6JRMiwuP+3Ne2KB4PBLVVVR1xd+YK2O2bOFYvwd8CHbK/x/J6Zc8Ui/AZmxdtqtdrAwlFLpRLZrS/PYcnkEUuiY7hCS+g5sovT55+Qj7QS/jYD8zjp/UF6t9GS+oPed8zCLC5zJ0tSo//Q+8wKLHTw/ifAAMQVS4vHZR2VAAAAAElFTkSuQmCC) center left 22px no-repeat}[_nghost-%COMP%]   .lightbox-next[_ngcontent-%COMP%]{right:0;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAiCAYAAABbXymAAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjEyNDE3MDE1RDgzMTExRTc5NjM4QTIzQzI2Rjc2Qjg2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjEyNDE3MDE2RDgzMTExRTc5NjM4QTIzQzI2Rjc2Qjg2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTI0MTcwMTNEODMxMTFFNzk2MzhBMjNDMjZGNzZCODYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MTI0MTcwMTREODMxMTFFNzk2MzhBMjNDMjZGNzZCODYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7zv5BKAAACl0lEQVR42rTW224SQRwGcHZb8FT1Sm88BJCiFAE5JpyCBNRE8coYEy94AGqi9XDXS0+JVh/CB/EhiFET5LjAclgWjaa1aazfJDM6u6LuLjrJl2124cd0duY/I9h+NoELabtcTLcFCon0bw+SRE4h28hn2xyNoIvISrlcfqAoSluSpLepVKqCe6cRB/2MYAXei1wfjUbSLm34gX4ymbyN+z6rOBmC/ciNer3+fpdrwGXgd8h/YwVn8Dm/37/e6/UGOnyQTqfXrOBsKI4g571e76Nutzv8De43gwv05S0hx5CLwJ/iBWrwyWQyzGazpnHyITtyCDlBcI/H8wS4ZlhUVbWMO/R4p9P5Bc/lcnfx/Ow8+AW32z0LH+Xz+X+Dt9ttmcen0ynDA1bx4wR3Op2PW62WrOv5uFAo3JsXL1K8r+v5LNxmZrb8wJvNpn5YlGKxeJ/WFruZBcRPxUsul2u90WhocCyqBqk3dLGJiwbgb/T6FflCSqkoiluCIGjqNGzWgQUz9YR8aQ9yBqtyDQtH0q1KNZPJPMTzOHKA4oaHwuPz+SooUm0eHY/H00QisUEWFHKUDYVRdBmVr9Lv9/WoGo/HX+J5iY7/QSMvj003hnb0aCwWe4HnV5GTyGEj002DDgYDDYqdRo1Goxu0p3pU+BvqDQQCqzPQCUWvzINKejQcDltHQ6HQLaBdHh0Oh5ZRO0OBaFD8iIL7z82ibGtyRyKR1T+gl82g/GZ6Dev/HY/KsqwEg0FLKL/93+R7C3QM9Nk8KDtiOWq12jb2s2XS01Kp9Kparb7G/TfIR2QT2TF6UBS42bBEi/UK/SIBPyCfkC0zKA+z6rWPXm30tLlJr6ZQ/ZmYDYnI1eEdejV9Thb+18H7uwADAOG/Wcm4x+knAAAAAElFTkSuQmCC) center right 22px no-repeat}[_nghost-%COMP%]   .lightbox-close[_ngcontent-%COMP%], [_nghost-%COMP%]   .lightbox-counter[_ngcontent-%COMP%], [_nghost-%COMP%]   .lightbox-next[_ngcontent-%COMP%], [_nghost-%COMP%]   .lightbox-prev[_ngcontent-%COMP%]{opacity:0;transition:opacity 150ms cubic-bezier(.475,.105,.445,.945)}"] });
LightboxComponent.ctorParameters = () => [
    { type: ElementRef },
    { type: ChangeDetectorRef },
    { type: EventService }
];
__decorate([
    HostBinding('class.lightbox-shown')
], LightboxComponent.prototype, "hostShown", void 0);
__decorate([
    HostBinding('class.lightbox-hide-controls')
], LightboxComponent.prototype, "hideControls", void 0);
__decorate([
    HostBinding('class.lightbox-animation')
], LightboxComponent.prototype, "hostAnimation", void 0);
__decorate([
    HostBinding('class.lightbox-simple-mode')
], LightboxComponent.prototype, "simpleMode", null);
__decorate([
    HostBinding('class.lightbox-light')
], LightboxComponent.prototype, "hostLightTheme", null);
__decorate([
    HostBinding('style.backgroundColor')
], LightboxComponent.prototype, "hostStyleBackgroundColor", void 0);
__decorate([
    ViewChild('prevImageElem', { static: true })
], LightboxComponent.prototype, "prevImageElem", void 0);
__decorate([
    ViewChild('lightboxContainer', { static: true })
], LightboxComponent.prototype, "lightboxContainerElem", void 0);
__decorate([
    HostListener('window:scroll')
], LightboxComponent.prototype, "scrolling", null);
__decorate([
    HostListener('window:keydown', ['$event'])
], LightboxComponent.prototype, "onKeyDown", null);
__decorate([
    HostListener("mouseenter", ['$event'])
], LightboxComponent.prototype, "onMouseEnter", null);
__decorate([
    HostListener('transitionend', ['$event'])
], LightboxComponent.prototype, "transitionEnd", null);
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(LightboxComponent, [{
        type: Component,
        args: [{
                selector: 'crystal-lightbox',
                template: "<div class=\"lightbox-counter\" *ngIf=\"properties.counter && images.length > 1\">{{counter}}</div>\n<div class=\"lightbox-close\" *ngIf=\"!simpleMode\" (click)=\"closeLightbox()\">{{closeButtonText}}</div>\n<div class=\"lightbox-spinner\" \n\t*ngIf=\"currImageLoadingState === 'loading' && showState === 'animation-end'\"></div>\n<div class=\"lightbox-container\" \n\t#lightboxContainer\n\t[ngStyle]=\"containerStyles\"\n\t(transitionend)=\"handleLightboxTransitionEnd($event)\"\n\t(click)=\"onContainerClick($event)\">\n\n\t<div class=\"lightbox-preloader\" *ngIf=\"isPreloader\">\n\t\t<div class=\"lightbox-spinner\"></div>\n\t</div>\n\n\t<div class=\"lightbox-error\" *ngIf=\"currImageLoadingState === 'error' && !closingState\">Failed to load image</div>\n\n\t<img class=\"lightbox-curr-image\" \n\t\t#lightboxImage\n\t\t[src]=\"currImagePath\" \n\t\t[class.lightbox-show]=\"currImageLoadingState === 'uploaded'\" \n\t\t(load)=\"onImageLoaded()\"\n\t\t(error)=\"onImageError($event)\" />\n</div>\n\n<div class=\"lightbox-prev\" [hidden]=\"isHiddenPrevArrow\" (click)=\"prev()\"></div>\n<div class=\"lightbox-next\" [hidden]=\"isHiddenNextArrow\" (click)=\"next()\"></div>",
                styles: [".lightbox-spinner,.lightbox-spinner:after,.lightbox-spinner:before{border-radius:50%;width:10px;height:10px;-webkit-animation:1.5s ease-in-out infinite lightbox-load;animation:1.5s ease-in-out infinite lightbox-load}.lightbox-spinner{color:#fff;font-size:10px;margin:0 auto 20px;position:relative;text-indent:-9999em;transform:translateZ(0);-webkit-animation-delay:-.16s;animation-delay:-.16s}.lightbox-spinner:after,.lightbox-spinner:before{content:\"\";position:absolute;top:0}.lightbox-spinner:before{left:-32px;-webkit-animation-delay:-.32s;animation-delay:-.32s}.lightbox-spinner:after{left:32px}@-webkit-keyframes lightbox-load{0%,100%,80%{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}@keyframes lightbox-load{0%,100%,80%{box-shadow:0 10px 0 -1.3em}40%{box-shadow:0 10px 0 0}}:host.lightbox-shown{opacity:1}:host.lightbox-shown .lightbox-close,:host.lightbox-shown .lightbox-next,:host.lightbox-shown .lightbox-prev{opacity:.5;transition-delay:.1s}:host.lightbox-shown .lightbox-close:hover,:host.lightbox-shown .lightbox-next:hover,:host.lightbox-shown .lightbox-prev:hover{opacity:1;transition-delay:0}:host.lightbox-shown .lightbox-counter{opacity:1}:host.lightbox-hide-controls .lightbox-close,:host.lightbox-hide-controls .lightbox-next,:host.lightbox-hide-controls .lightbox-prev{opacity:0}:host.lightbox-simple-mode .lightbox-container{cursor:zoom-out}:host:not(.lightbox-animation) .lightbox-container{display:flex;align-items:center;justify-content:center;top:0;left:0;height:100%}:host.lightbox-light{color:#000;text-shadow:none}:host{position:fixed;top:0;left:0;width:100%;height:100%;color:#fff;text-shadow:0 0 1px rgba(0,0,0,.65);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10000}:host img{opacity:1;max-width:100%;max-height:100%}:host img.lightbox-curr-image.lightbox-show{opacity:1}:host img.lightbox-curr-image{opacity:0;z-index:10}:host .lightbox-container.lightbox-hide{display:none}:host .lightbox-container{position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transform-origin:top left}:host .lightbox-preloader{background:rgba(0,0,0,.4);display:flex;align-items:center;justify-content:center;width:100%;height:100%;position:absolute}:host .lightbox-spinner{position:absolute;top:51%;left:50%;margin-top:-15px;margin-left:-5px}:host .lightbox-preloader .lightbox-spinner{margin-top:-9px;margin-left:-3px}:host .lightbox-preloader .lightbox-spinner,:host .lightbox-preloader .lightbox-spinner:after,:host .lightbox-preloader .lightbox-spinner:before{width:6px;height:6px}:host .lightbox-preloader .lightbox-spinner:before{left:-21px}:host .lightbox-preloader .lightbox-spinner:after{left:21px}:host .lightbox-counter{text-align:left;position:absolute;left:22px;top:13px;font-size:14px;z-index:30}:host .lightbox-description{text-align:center;max-width:calc(100% - 200px);margin:0 auto;font-size:14px;line-height:43px;position:relative;z-index:50}:host .lightbox-error{color:rgba(255,255,255,.75);font-size:19px}:host .lightbox-close{position:absolute;top:0;right:0;padding:13px 22px;font-size:13px;text-transform:uppercase;cursor:pointer;opacity:.5;z-index:30;transition:opacity .1s ease-in-out}:host .lightbox-next,:host .lightbox-prev{width:100px;height:100%;position:absolute;top:0;cursor:pointer;opacity:.5;z-index:20;transition:opacity .1s ease-in-out;-webkit-tap-highlight-color:rgba(255,255,255,0)}:host .lightbox-prev{left:0;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAiCAYAAABbXymAAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjMzMTZCQzFERDgzMTExRTc5QUYxQTUxRDI5MkM5ODZCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjMzMTZCQzFFRDgzMTExRTc5QUYxQTUxRDI5MkM5ODZCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzMxNkJDMUJEODMxMTFFNzlBRjFBNTFEMjkyQzk4NkIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MzMxNkJDMUNEODMxMTFFNzlBRjFBNTFEMjkyQzk4NkIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7VrwZKAAAClElEQVR42qzWSY8SQRgGYLoVHPeTXlwCiIwMArJGtiABNep4IGZi4oEfMJooLjePrnFGf5yJS0hYmq2b/aBxiQ6+lRRJdaUZq5vp5E2TLnioVFd9VZLN+iUxIdeMiW2fRVCmvz2DpJBVCk6X6SVBHQRLpVKb7Xb782g0Usrl8jM8W0P20+9YQn3JZPIhwN6MXoPBoI3nG8iKGZhF14A+AqrOmKtWq31F213kkOgQ69B0Ol0BqrFot9vV/H7/c7RfEoVZ1G+EdjqdvtfrfYn2K8gJkaHQodlstjIej/ssihdH0Ddov4acQo7QlycJo5PJhEc1j8fzmqJk2h1D7Lv1lkUv5nK5xzzaarWMUIcwms/nCTrgUbfbTdCrVtAAQafTqQ5VFEVdCi0UCk/Q0yGLNptN1el0vqLoaRHUxqPoKY/2KFo0g0r0ba4Wi8WnQEcs2mg0VAPULrJsZTqpNzDZ6yxar9dVl8tFVtR10SnFohJdgnZYuh9IkjSTZfknPn5DviO/kL/IjkgtIOhhJJ7JZF5gdU24hdDG6qqg/QJywEzlmg/FSTLhE4nE9nA4nHJFRvH5fJto94gOBfvyjtJxXI/H4x+A63re6/UUVDCCnzeDz6fbceQscjsWi703wFsM7hDBJQN8PRqNbmNn0OGapu0JfoviYx4PBAL30e5dCg+Hw0Z4e8/wfr/P451QKPRgaRzIFjDdksefsbjdKn5zER6JRMiwuP+3Ne2KB4PBLVVVR1xd+YK2O2bOFYvwd8CHbK/x/J6Zc8Ui/AZmxdtqtdrAwlFLpRLZrS/PYcnkEUuiY7hCS+g5sovT55+Qj7QS/jYD8zjp/UF6t9GS+oPed8zCLC5zJ0tSo//Q+8wKLHTw/ifAAMQVS4vHZR2VAAAAAElFTkSuQmCC) center left 22px no-repeat}:host .lightbox-next{right:0;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAiCAYAAABbXymAAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjEyNDE3MDE1RDgzMTExRTc5NjM4QTIzQzI2Rjc2Qjg2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjEyNDE3MDE2RDgzMTExRTc5NjM4QTIzQzI2Rjc2Qjg2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTI0MTcwMTNEODMxMTFFNzk2MzhBMjNDMjZGNzZCODYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MTI0MTcwMTREODMxMTFFNzk2MzhBMjNDMjZGNzZCODYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7zv5BKAAACl0lEQVR42rTW224SQRwGcHZb8FT1Sm88BJCiFAE5JpyCBNRE8coYEy94AGqi9XDXS0+JVh/CB/EhiFET5LjAclgWjaa1aazfJDM6u6LuLjrJl2124cd0duY/I9h+NoELabtcTLcFCon0bw+SRE4h28hn2xyNoIvISrlcfqAoSluSpLepVKqCe6cRB/2MYAXei1wfjUbSLm34gX4ymbyN+z6rOBmC/ciNer3+fpdrwGXgd8h/YwVn8Dm/37/e6/UGOnyQTqfXrOBsKI4g571e76Nutzv8De43gwv05S0hx5CLwJ/iBWrwyWQyzGazpnHyITtyCDlBcI/H8wS4ZlhUVbWMO/R4p9P5Bc/lcnfx/Ow8+AW32z0LH+Xz+X+Dt9ttmcen0ynDA1bx4wR3Op2PW62WrOv5uFAo3JsXL1K8r+v5LNxmZrb8wJvNpn5YlGKxeJ/WFruZBcRPxUsul2u90WhocCyqBqk3dLGJiwbgb/T6FflCSqkoiluCIGjqNGzWgQUz9YR8aQ9yBqtyDQtH0q1KNZPJPMTzOHKA4oaHwuPz+SooUm0eHY/H00QisUEWFHKUDYVRdBmVr9Lv9/WoGo/HX+J5iY7/QSMvj003hnb0aCwWe4HnV5GTyGEj002DDgYDDYqdRo1Goxu0p3pU+BvqDQQCqzPQCUWvzINKejQcDltHQ6HQLaBdHh0Oh5ZRO0OBaFD8iIL7z82ibGtyRyKR1T+gl82g/GZ6Dev/HY/KsqwEg0FLKL/93+R7C3QM9Nk8KDtiOWq12jb2s2XS01Kp9Kparb7G/TfIR2QT2TF6UBS42bBEi/UK/SIBPyCfkC0zKA+z6rWPXm30tLlJr6ZQ/ZmYDYnI1eEdejV9Thb+18H7uwADAOG/Wcm4x+knAAAAAElFTkSuQmCC) center right 22px no-repeat}:host .lightbox-close,:host .lightbox-counter,:host .lightbox-next,:host .lightbox-prev{opacity:0;transition:opacity 150ms cubic-bezier(.475,.105,.445,.945)}"]
            }]
    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc1.EventService }]; }, { hostShown: [{
            type: HostBinding,
            args: ['class.lightbox-shown']
        }], hideControls: [{
            type: HostBinding,
            args: ['class.lightbox-hide-controls']
        }], simpleMode: [{
            type: HostBinding,
            args: ['class.lightbox-simple-mode']
        }], hostLightTheme: [{
            type: HostBinding,
            args: ['class.lightbox-light']
        }], scrolling: [{
            type: HostListener,
            args: ['window:scroll']
        }], onKeyDown: [{
            type: HostListener,
            args: ['window:keydown', ['$event']]
        }], onMouseEnter: [{
            type: HostListener,
            args: ["mouseenter", ['$event']]
        }], transitionEnd: [{
            type: HostListener,
            args: ['transitionend', ['$event']]
        }], hostAnimation: [{
            type: HostBinding,
            args: ['class.lightbox-animation']
        }], hostStyleBackgroundColor: [{
            type: HostBinding,
            args: ['style.backgroundColor']
        }], prevImageElem: [{
            type: ViewChild,
            args: ['prevImageElem', { static: true }]
        }], lightboxContainerElem: [{
            type: ViewChild,
            args: ['lightboxContainer', { static: true }]
        }] }); })();
export { LightboxComponent };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGlnaHRib3guY29tcG9uZW50LmpzIiwic291cmNlcyI6WyJAY3J5c3RhbHVpL2FuZ3VsYXItbGlnaHRib3gvbGliL2xpZ2h0Ym94LmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsWUFBWSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsVUFBVSxFQUFFLGlCQUFpQixFQUFFLGVBQWUsRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFHdEwsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQy9DLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxNQUFNLDZCQUE2QixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUXRFLElBQWEsaUJBQWlCLEdBQTlCLE1BQWEsaUJBQWtCLFNBQVEsdUJBQXVCO0FBQzdELElBK0dHLFlBQ1ksVUFBc0IsRUFDdEIsR0FBc0IsRUFDdkIsWUFBMEI7QUFDdkMsUUFBTSxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUM7QUFDM0IsUUFKZSxlQUFVLEdBQVYsVUFBVSxDQUFZO0FBQUUsUUFDeEIsUUFBRyxHQUFILEdBQUcsQ0FBbUI7QUFDdEMsUUFBZSxpQkFBWSxHQUFaLFlBQVksQ0FBYztBQUFFLFFBakh2QyxrQkFBYSxHQUFXLEVBQUUsQ0FBQztBQUM5QixRQUNHLGVBQVUsR0FBVyxFQUFFLENBQUM7QUFDM0IsUUFBRyxxQkFBZ0IsR0FBVyxHQUFHLENBQUM7QUFDbEMsUUFBRyxrQkFBYSxHQUFRO0FBQ3hCLFlBQU8sU0FBUyxFQUFFLEVBQUU7QUFDcEIsU0FBSSxDQUFDO0FBQ0wsUUFBRyw2QkFBd0IsR0FBRyxJQUFJLENBQUM7QUFDbkMsUUFBRyxXQUFNLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQztBQUVoQyxRQUF5QyxjQUFTLEdBQVksS0FB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LEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUdBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBUUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQWdIQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUhBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQWpIQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQXdHQSxBQUFBLEFBckdBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBT0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFHQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUdBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBR0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQVNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUVBLEFBRUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBL1JBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQXZHQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQURBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFHQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBa0RBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQU1BLEFBR0EsQUFEQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFhQSxBQUdBLEFBREEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBR0EsQUFHQSxBQURBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUtBLEFBOUdBLEFBQUEsQUFOQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBRUEsQUFBQSxBQWdaQSxBQWhaQSxBQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgRXZlbnRFbWl0dGVyLCBPbkluaXQsIEhvc3RCaW5kaW5nLCBIb3N0TGlzdGVuZXIsIFZpZXdDaGlsZCwgVmlld0NoaWxkcmVuLCBFbGVtZW50UmVmLCBDaGFuZ2VEZXRlY3RvclJlZiwgQ29udGVudENoaWxkcmVuLCBRdWVyeUxpc3QgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IExpZ2h0Ym94RGF0YSB9IGZyb20gJy4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBTaG93U3RhdGUsIENsb3NpbmdTdGF0ZSB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgRXZlbnRTZXJ2aWNlIH0gZnJvbSAnLi9ldmVudC5zZXJ2aWNlJztcbmltcG9ydCB7IExpZ2h0Ym94Q29tbW9uQ29tcG9uZW50IH0gZnJvbSAnLi9saWdodGJveC1jb21tb24uY29tcG9uZW50JztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdjcnlzdGFsLWxpZ2h0Ym94JyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vbGlnaHRib3guY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL2Nzcy9saWdodGJveC5jb21wb25lbnQuc2FzcyddXG59KVxuXG5leHBvcnQgY2xhc3MgTGlnaHRib3hDb21wb25lbnQgZXh0ZW5kcyBMaWdodGJveENvbW1vbkNvbXBvbmVudCB7XG4gICAgcHJldkluZGV4OiBudW1iZXI7XG4gICAgc3Bpbm5lckhlaWdodDogbnVtYmVyID0gMzA7XG4gICAgaXNab29tSW46IGJvb2xlYW47XG4gICAgbWluVGltZW91dDogbnVtYmVyID0gMzA7XG4gICAgcHJlbG9hZGVyVGltZW91dDogbnVtYmVyID0gMTAwO1xuICAgIHNwaW5uZXJTdHlsZXM6IGFueSA9IHtcbiAgICAgICAgdHJhbnNmb3JtOiAnJ1xuICAgIH07XG4gICAgY29uZmlnVGh1bWJuYWlsUHJlbG9hZGVyID0gdHJ1ZTtcbiAgICBldmVudHMgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgICBASG9zdEJpbmRpbmcoJ2NsYXNzLmxpZ2h0Ym94LXNob3duJykgaG9zdFNob3duOiBib29sZWFuID0gZmFsc2U7XG4gICAgQEhvc3RCaW5kaW5nKCdjbGFzcy5saWdodGJveC1oaWRlLWNvbnRyb2xzJykgaGlkZUNvbnRyb2xzOiBib29sZWFuID0gZmFsc2U7XG4gICAgQEhvc3RCaW5kaW5nKCdjbGFzcy5saWdodGJveC1hbmltYXRpb24nKSBob3N0QW5pbWF0aW9uOiBib29sZWFuO1xuICAgIEBIb3N0QmluZGluZygnY2xhc3MubGlnaHRib3gtc2ltcGxlLW1vZGUnKVxuICAgIGdldCBzaW1wbGVNb2RlKCl7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXMuc2ltcGxlTW9kZTtcbiAgICB9XG5cbiAgICBASG9zdEJpbmRpbmcoJ2NsYXNzLmxpZ2h0Ym94LWxpZ2h0JykgZ2V0IGhvc3RMaWdodFRoZW1lKCl7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXMuYmFja2dyb3VuZENvbG9yID09PSAnd2hpdGUnO1xuICAgIH1cblxuICAgIEBIb3N0QmluZGluZygnc3R5bGUuYmFja2dyb3VuZENvbG9yJykgaG9zdFN0eWxlQmFja2dyb3VuZENvbG9yOiBzdHJpbmc7XG5cbiAgICBAVmlld0NoaWxkKCdwcmV2SW1hZ2VFbGVtJywgeyBzdGF0aWM6IHRydWUgfSkgcHJldkltYWdlRWxlbTogRWxlbWVudFJlZjtcbiAgICBAVmlld0NoaWxkKCdsaWdodGJveENvbnRhaW5lcicsIHsgc3RhdGljOiB0cnVlIH0pIGxpZ2h0Ym94Q29udGFpbmVyRWxlbTogRWxlbWVudFJlZjtcblxuICAgIGdldCBjdXJySW1hZ2VQYXRoKCl7XG4gICAgICAgIGxldCBpbWFnZSA9IHRoaXMuaW1hZ2VzW3RoaXMuaW5kZXhdO1xuICAgICAgICBsZXQgcGF0aDtcblxuICAgICAgICBpZiAoIWltYWdlKXtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbWFnZS5mdWxsSW1hZ2UgJiYgaW1hZ2UuZnVsbEltYWdlLnBhdGgpe1xuICAgICAgICAgICAgcGF0aCA9ICBpbWFnZS5mdWxsSW1hZ2UucGF0aDtcbiAgICAgICAgfSBlbHNlIGlmIChpbWFnZS50aHVtYm5haWxJbWFnZSAmJiBpbWFnZS50aHVtYm5haWxJbWFnZS5wYXRoKSB7XG4gICAgICAgICAgICBwYXRoID0gaW1hZ2UudGh1bWJuYWlsSW1hZ2UucGF0aDtcbiAgICAgICAgfSBlbHNlIGlmIChpbWFnZS5wYXRoKXtcbiAgICAgICAgICAgIHBhdGggPSBpbWFnZS5wYXRoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgfVxuXG4gICAgZ2V0IHByZXZJbWFnZVBhdGgoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW1hZ2VzW3RoaXMucHJldkluZGV4XTtcbiAgICB9XG5cbiAgICBzZXQgcHJldkltYWdlUGF0aCh2YWx1ZTogYW55KXtcbiAgICAgICAgdGhpcy5pbWFnZXNbdGhpcy5wcmV2SW5kZXhdID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IGlzSGlkZGVuUHJldkFycm93KCl7XG4gICAgICAgIHJldHVybiB0aGlzLmlzRmlyc3RJbWFnZSAmJiAhdGhpcy5wcm9wZXJ0aWVzLmxvb3AgfHwgdGhpcy5pc1pvb21JbjtcbiAgICB9XG4gICAgZ2V0IGlzSGlkZGVuTmV4dEFycm93KCl7XG4gICAgICAgIHJldHVybiB0aGlzLmlzTGFzdEltYWdlICYmICF0aGlzLnByb3BlcnRpZXMubG9vcCB8fCB0aGlzLmlzWm9vbUluO1xuICAgIH1cblxuICAgIGdldCBpc1ByZWxvYWRlcigpe1xuICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRpb25Nb2RlID09PSAnem9vbS1wcmVsb2FkZXInICYmIFxuICAgICAgICAgICB0aGlzLnNob3dTdGF0ZSAhPSAnYW5pbWF0aW9uLWVuZCcgJiYgXG4gICAgICAgICAgIHRoaXMuY3VyckltYWdlTG9hZGluZ1N0YXRlID09PSAnbG9hZGluZyc7XG4gICAgfVxuXG4gICAgZ2V0IGltYWdlT3JpZW50YXRpb24oKTondmVydGljYWwnIHwgJ2hvcml6b250YWwnIHtcbiAgICAgICAgaWYgKHRoaXMudGh1bWJuYWlsSW1hZ2UubmF0dXJhbFdpZHRoID4gdGhpcy50aHVtYm5haWxJbWFnZS5uYXR1cmFsSGVpZ2h0KXtcbiAgICAgICAgICAgIHJldHVybiAnaG9yaXpvbnRhbCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gJ3ZlcnRpY2FsJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBIb3N0TGlzdGVuZXIoJ3dpbmRvdzpzY3JvbGwnKSBzY3JvbGxpbmcoKXtcbiAgICAgICAgaWYgKHRoaXMuc2hvd1N0YXRlID09PSAnaW5pdGlhbC10aHVtYm5haWwtaW1hZ2UnIHx8XG4gICAgICAgICAgICB0aGlzLnNob3dTdGF0ZSA9PT0gJ2luaXRpYWwtdmlydHVhbC1pbWFnZScgfHxcbiAgICAgICAgICAgIHRoaXMuY2xvc2luZ1N0YXRlID09PSAnYW5pbWF0aW9uJyl7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRodW1ibmFpbFBvc2l0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBASG9zdExpc3RlbmVyKCd3aW5kb3c6a2V5ZG93bicsIFsnJGV2ZW50J10pXG4gICAgb25LZXlEb3duKGV2ZW50OiBhbnkpIHtcbiAgICAgICAgc3dpdGNoKGV2ZW50LmtleSkge1xuICAgICAgICAgICAgY2FzZSAnQXJyb3dMZWZ0JzpcbiAgICAgICAgICAgICAgICB0aGlzLnByZXYoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0Fycm93UmlnaHQnOlxuICAgICAgICAgICAgICAgIHRoaXMubmV4dCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnRXNjYXBlJzpcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlTGlnaHRib3goKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBIb3N0TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsIFsnJGV2ZW50J10pXG4gICAgb25Nb3VzZUVudGVyKGV2ZW50OiBhbnkpIHtcbiAgICAgICAgdGhpcy5oaWRlQ29udHJvbHMgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBASG9zdExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgWyckZXZlbnQnXSlcbiAgICB0cmFuc2l0aW9uRW5kKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5wcm9wZXJ0eU5hbWUgPT09IFwidHJhbnNmb3JtXCIgJiYgdGhpcy5ob3N0QW5pbWF0aW9uKXtcbiAgICAgICAgICAgIHRoaXMuaG9zdEFuaW1hdGlvbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgZWxlbWVudFJlZjogRWxlbWVudFJlZiwgXG4gICAgICAgIHByaXZhdGUgcmVmOiBDaGFuZ2VEZXRlY3RvclJlZixcbiAgICAgICAgcHVibGljIGV2ZW50U2VydmljZTogRXZlbnRTZXJ2aWNlKXtcbiAgICAgICAgc3VwZXIoZXZlbnRTZXJ2aWNlKTtcbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpe1xuICAgICAgICB0aGlzLmN1cnJlbnRJbWFnZUluZGV4ID0gdGhpcy5wcm9wZXJ0aWVzLmluZGV4O1xuICAgICAgICB0aGlzLmluaXRpYWxMaWdodGJveCgpO1xuICAgIH1cblxuICAgIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJySW1hZ2VMb2FkaW5nU3RhdGUgPT09ICdub3QtbG9hZGVkJyl7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJySW1hZ2VMb2FkaW5nU3RhdGUgPSAnbG9hZGluZyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMucHJlbG9hZGVyVGltZW91dCk7XG5cbiAgICAgICAgLy8gTW9kZTogZGVmYXVsdFxuICAgICAgICBpZiAodGhpcy5hbmltYXRpb25Nb2RlID09PSAnZGVmYXVsdCcpeyBcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xpZ2h0Ym94QW5pbWF0aW9uKCk7XG4gICAgICAgICAgICB9LCB0aGlzLm1pblRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25JbWFnZUxvYWRlZCgpe1xuICAgICAgICAvLyBXaGVuIG9wZW5pbmcgbGlnaHRib3hcbiAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uTW9kZSA9PT0gJ3pvb20tcHJlbG9hZGVyJyAmJiBcbiAgICAgICAgICAgIHRoaXMuc2hvd1N0YXRlID09PSAnaW5pdGlhbC10aHVtYm5haWwtaW1hZ2UnKXtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbExpZ2h0Ym94VmlydHVhbEltYWdlKCk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJJbWFnZUxvYWRpbmdTdGF0ZSA9ICd1cGxvYWRlZCc7XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93TGlnaHRib3hBbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLmhpZGVUaHVtYm5haWwpe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGVUaHVtYm5haWxJbWFnZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHRoaXMubWluVGltZW91dCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXaGVuIG9wZW5pbmcgbmV4dCAvIHByZXZpb3VzIGltYWdlXG4gICAgICAgIGlmICh0aGlzLnNob3dTdGF0ZSA9PT0gJ2FuaW1hdGlvbi1lbmQnKXtcbiAgICAgICAgICAgIHRoaXMuY3VyckltYWdlTG9hZGluZ1N0YXRlID0gJ3VwbG9hZGVkJztcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuaGlkZVRodW1ibmFpbCl7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlVGh1bWJuYWlsSW1hZ2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICB9XG5cbiAgICBvbkltYWdlRXJyb3IoZXZlbnQpe1xuICAgICAgICB0aGlzLmN1cnJJbWFnZUxvYWRpbmdTdGF0ZSA9ICdlcnJvcic7XG4gICAgICAgIHRoaXMuaW5pdGlhbExpZ2h0Ym94RGVmYXVsdCgpO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zaG93TGlnaHRib3hBbmltYXRpb24oKTtcbiAgICAgICAgfSwgdGhpcy5taW5UaW1lb3V0KTtcbiAgICB9XG5cbiAgICBvbkNvbnRhaW5lckNsaWNrKGV2ZW50KXtcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gdGhpcy5saWdodGJveENvbnRhaW5lckVsZW0ubmF0aXZlRWxlbWVudCB8fCB0aGlzLnNpbXBsZU1vZGUpe1xuICAgICAgICAgICAgdGhpcy5jbG9zZUxpZ2h0Ym94KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbml0aWFsTGlnaHRib3goKXtcbiAgICAgICAgdGhpcy5zZXRNYXhEaW1lbnNpb25zKCk7XG4gICAgICAgIHRoaXMuc2V0QW5pbWF0aW9uRHVyYXRpb24oKTtcblxuICAgICAgICBzd2l0Y2ggKHRoaXMuYW5pbWF0aW9uTW9kZSkge1xuICAgICAgICAgICAgY2FzZSAnem9vbS1wcmVsb2FkZXInOlxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbExpZ2h0Ym94VGh1bWJuYWlsSW1hZ2UoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2RlZmF1bHQnOlxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbExpZ2h0Ym94RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaW5pdGlhbExpZ2h0Ym94RGVmYXVsdCgpe1xuICAgICAgICB0aGlzLnNob3dTdGF0ZSA9ICdpbml0aWFsLWRlZmF1bHQnO1xuICAgICAgICB0aGlzLmNvbnRhaW5lclN0eWxlcyA9IHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKDAsIDAsIDApJyxcbiAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgIG9wYWNpdHk6ICcwJ1xuICAgICAgICB9XG4gICAgICAgIC8vIG5leHQgc3RlcDogQWZ0ZXJWaWV3SW5pdFxuICAgIH1cblxuICAgIGluaXRpYWxMaWdodGJveFZpcnR1YWxJbWFnZSgpe1xuICAgICAgICB0aGlzLnNldFNob3dTdGF0ZSgnaW5pdGlhbC12aXJ0dWFsLWltYWdlJyk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyU3R5bGVzID0ge1xuICAgICAgICAgICAgdHJhbnNmb3JtOiB0aGlzLmNvbnRhaW5lckluaXRpYWxQb3NpdGlvbixcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy52aXJ0dWFsSW1hZ2VEaW1lbnNpb24uaGVpZ2h0ICsgJ3B4JyxcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLnZpcnR1YWxJbWFnZURpbWVuc2lvbi53aWR0aCArICdweCdcbiAgICAgICAgfVxuICAgICAgICAvLyBuZXh0IHN0ZXA6IG9uSW1hZ2VMb2FkZWQoKSAtPiBzaG93TGlnaHRib3hBbmltYXRpb24oKVxuICAgIH1cblxuICAgIGluaXRpYWxMaWdodGJveFRodW1ibmFpbEltYWdlKCl7XG4gICAgICAgIHRoaXMuc2V0U2hvd1N0YXRlKCdpbml0aWFsLXRodW1ibmFpbC1pbWFnZScpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lclN0eWxlcyA9IHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdGhpcy5jb250YWluZXJJbml0aWFsUG9zaXRpb24sXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMudGh1bWJuYWlsSW1hZ2VQb3NpdGlvbi5oZWlnaHQgKyAncHgnLFxuICAgICAgICAgICAgd2lkdGg6IHRoaXMudGh1bWJuYWlsSW1hZ2VQb3NpdGlvbi53aWR0aCArICdweCdcbiAgICAgICAgfVxuICAgICAgICAvLyBuZXh0IHN0ZXA6IG9uSW1hZ2VMb2FkZWQoKVxuICAgIH1cblxuICAgIHNob3dMaWdodGJveEFuaW1hdGlvbigpe1xuICAgICAgICB0aGlzLmhvc3RBbmltYXRpb24gPSB0cnVlO1xuICAgICAgICB0aGlzLnNldFNob3dTdGF0ZSgnYW5pbWF0aW9uJyk7XG4gICAgICAgIHRoaXMuaG9zdFNob3duID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IoKTtcbiAgICAgICAgdGhpcy5zZXRBbmltYXRpb25EdXJhdGlvbigpO1xuICAgICAgICBcbiAgICAgICAgLy8gTW9kZTogem9vbSBwcmVsb2FkZXJcbiAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uTW9kZSA9PT0gJ3pvb20tcHJlbG9hZGVyJyAmJlxuICAgICAgICAgICAgdGhpcy5jdXJySW1hZ2VMb2FkaW5nU3RhdGUgIT09ICdlcnJvcicpeyBcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyU3R5bGVzLnRyYW5zZm9ybSA9IHRoaXMuY29udGFpbmVyRnVsbHNjcmVlblBvc2l0aW9uO1xuICAgICAgICB9IFxuXG4gICAgICAgIC8vIE1vZGU6IGRlZmF1bHRcbiAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uTW9kZSA9PT0gJ2RlZmF1bHQnKXtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyU3R5bGVzLm9wYWNpdHkgPSAnMSc7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmV4dCBzdGVwOiBoYW5kbGVMaWdodGJveFRyYW5zaXRpb25FbmRcbiAgICB9XG5cbiAgICBzaG93TGlnaHRib3hBbmltYXRpb25FbmQoKXtcbiAgICAgICAgdGhpcy5zZXRTaG93U3RhdGUoJ2FuaW1hdGlvbi1lbmQnKTtcbiAgICAgICAgdGhpcy5jb250YWluZXJTdHlsZXMgPSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgwLCAwLCAwKScsXG4gICAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjbG9zZUxpZ2h0Ym94KCl7XG4gICAgICAgIHRoaXMuc2V0Q2xvc2luZ1N0YXRlKCdpbml0aWFsJyk7XG4gICAgICAgIHRoaXMuaG9zdFNob3duID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2xvc2VMaWdodGJveEluaXRpYWwoKTtcbiAgICB9XG5cbiAgICBjbG9zZUxpZ2h0Ym94SW5pdGlhbCgpe1xuICAgICAgICB0aGlzLnNldENsb3NpbmdTdGF0ZSgnaW5pdGlhbC1zdHlsZXMnKTtcblxuICAgICAgICAvLyBNb2RlOiB6b29tIHByZWxvYWRlclxuICAgICAgICBpZiAodGhpcy5hbmltYXRpb25Nb2RlID09PSAnem9vbS1wcmVsb2FkZXInKXtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyU3R5bGVzID0ge1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdGhpcy5jb250YWluZXJGdWxsc2NyZWVuUG9zaXRpb24sXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLnZpcnR1YWxJbWFnZURpbWVuc2lvbi5oZWlnaHQgKyAncHgnLFxuICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLnZpcnR1YWxJbWFnZURpbWVuc2lvbi53aWR0aCArICdweCcsXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNb2RlOiBkZWZhdWx0XG4gICAgICAgIGlmICh0aGlzLmFuaW1hdGlvbk1vZGUgPT09ICdkZWZhdWx0Jyl7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lclN0eWxlcy5vcGFjaXR5ID0gJzEnO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlTGlnaHRib3hBbmltYXRpb24oKTtcbiAgICAgICAgfSwgdGhpcy5taW5UaW1lb3V0KTtcbiAgICB9XG5cbiAgICBjbG9zZUxpZ2h0Ym94QW5pbWF0aW9uKCl7XG4gICAgICAgIHRoaXMuc2V0Q2xvc2luZ1N0YXRlKCdhbmltYXRpb24nKTtcblxuICAgICAgICAvLyBNb2RlOiB6b29tIHByZWxvYWRlclxuICAgICAgICBpZiAodGhpcy5hbmltYXRpb25Nb2RlID09PSAnem9vbS1wcmVsb2FkZXInKXtcbiAgICAgICAgICAgIHRoaXMuaG9zdEFuaW1hdGlvbiA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lclN0eWxlcyA9IHtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRoaXMuY29udGFpbmVySW5pdGlhbFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5nZXRDb250YWluZXJIZWlnaHQoKSxcbiAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5nZXRDb250YWluZXJXaWR0aCgpLFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmhvc3RTdHlsZUJhY2tncm91bmRDb2xvciA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTW9kZTogZGVmYXVsdFxuICAgICAgICBpZiAodGhpcy5hbmltYXRpb25Nb2RlID09PSAnZGVmYXVsdCcpe1xuICAgICAgICAgICAgdGhpcy5ob3N0QW5pbWF0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyU3R5bGVzLm9wYWNpdHkgPSAnMCc7XG4gICAgICAgICAgICB0aGlzLmhvc3RTdHlsZUJhY2tncm91bmRDb2xvciA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRBbmltYXRpb25EdXJhdGlvbigpO1xuICAgICAgICAvLyBuZXh0IHN0ZXA6IGhhbmRsZUxpZ2h0Ym94VHJhbnNpdGlvbkVuZFxuXG4gICAgICAgIGlmICh0aGlzLmFuaW1hdGlvbkR1cmF0aW9uID09PSAwKXsgLy8gaW4gdGhlIGZ1dHVyZSwgY2hhbmdlIHRvIGEgdHlwZSBjb252ZXJzaW9uIGdldHRlclxuICAgICAgICAgICAgdGhpcy5jbG9zZUxpZ2h0Ym94QW5pbWF0aW9uRW5kKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjbG9zZUxpZ2h0Ym94QW5pbWF0aW9uRW5kKCl7XG4gICAgICAgIHRoaXMuc2V0Q2xvc2luZ1N0YXRlKCdhbmltYXRpb24tZW5kJyk7XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoe3R5cGU6ICdjbG9zZSd9KTtcblxuICAgICAgICAvLyBNb2RlOiB6b29tIHByZWxvYWRlclxuICAgICAgICBpZiAodGhpcy5hbmltYXRpb25Nb2RlID09PSAnem9vbS1wcmVsb2FkZXInKXtcbiAgICAgICAgICAgIHRoaXMuc2hvd1RodW1ibmFpbEltYWdlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKlxuICAgICAqIFRyYW5zaXRpb24gRW5kXG4gICAgICovXG5cbiAgICBoYW5kbGVMaWdodGJveFRyYW5zaXRpb25FbmQoZXZlbnQpe1xuICAgICAgICBpZiAodGhpcy5zaG93U3RhdGUgPT09ICdhbmltYXRpb24nKXtcbiAgICAgICAgICAgIHRoaXMuc2hvd0xpZ2h0Ym94QW5pbWF0aW9uRW5kKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBMYXN0IGNsb3NlIHN0ZXBcbiAgICAgICAgaWYgKHRoaXMuY2xvc2luZ1N0YXRlID09PSAnYW5pbWF0aW9uJyl7XG4gICAgICAgICAgICB0aGlzLmNsb3NlTGlnaHRib3hBbmltYXRpb25FbmQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5leHQoKXtcbiAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uTW9kZSA9PT0gJ3pvb20tcHJlbG9hZGVyJyl7XG4gICAgICAgICAgICB0aGlzLnNob3dUaHVtYm5haWxJbWFnZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNMYXN0SW1hZ2Upe1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5sb29wKXtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJbWFnZUluZGV4ID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50SW1hZ2VJbmRleCsrO1xuICAgICAgICAgICAgdGhpcy5jdXJySW1hZ2VMb2FkaW5nU3RhdGUgPSAnbG9hZGluZyc7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJJbWFnZUxvYWRpbmdTdGF0ZSAhPT0gJ3VwbG9hZGVkJyl7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJySW1hZ2VMb2FkaW5nU3RhdGUgPSAnbG9hZGluZyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMucHJlbG9hZGVyVGltZW91dCk7XG4gICAgfVxuXG4gICAgcHJldigpe1xuICAgICAgICBpZiAodGhpcy5hbmltYXRpb25Nb2RlID09PSAnem9vbS1wcmVsb2FkZXInKXtcbiAgICAgICAgICAgIHRoaXMuc2hvd1RodW1ibmFpbEltYWdlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pc0ZpcnN0SW1hZ2Upe1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5sb29wKXtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJbWFnZUluZGV4ID0gdGhpcy5sYXRlc3RJbWFnZUluZGV4O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRJbWFnZUluZGV4LS07XG4gICAgICAgICAgICB0aGlzLmN1cnJJbWFnZUxvYWRpbmdTdGF0ZSA9ICdsb2FkaW5nJztcbiAgICAgICAgfVxuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VyckltYWdlTG9hZGluZ1N0YXRlICE9PSAndXBsb2FkZWQnKXtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJJbWFnZUxvYWRpbmdTdGF0ZSA9ICdsb2FkaW5nJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcy5wcmVsb2FkZXJUaW1lb3V0KTtcbiAgICB9XG5cbiAgICBzZXRNYXhEaW1lbnNpb25zKCl7XG4gICAgICAgIHRoaXMubGlnaHRib3hJbWFnZS5uYXRpdmVFbGVtZW50LnN0eWxlLm1heEhlaWdodCA9ICdjYWxjKCcgKyB0aGlzLnByb3BlcnRpZXMuaW1hZ2VNYXhIZWlnaHQgKyAnKSc7XG4gICAgICAgIHRoaXMubGlnaHRib3hJbWFnZS5uYXRpdmVFbGVtZW50LnN0eWxlLm1heFdpZHRoID0gdGhpcy5wcm9wZXJ0aWVzLmltYWdlTWF4V2lkdGg7XG4gICAgfVxuXG4gICAgaGFuZGxlUGluY2hab29tRXZlbnRzKGV2ZW50KXtcbiAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09IFwiem9vbS1pblwiKXtcbiAgICAgICAgICAgIHRoaXMuaXNab29tSW4gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09IFwiem9vbS1vdXRcIil7XG4gICAgICAgICAgICB0aGlzLmlzWm9vbUluID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRDb250YWluZXJXaWR0aCgpOnN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLnRodW1ibmFpbEltYWdlUG9zaXRpb24ud2lkdGggLyB0aGlzLmNvbnRhaW5lclNjYWxlICsgJ3B4JztcbiAgICB9XG59ICJdfQ==